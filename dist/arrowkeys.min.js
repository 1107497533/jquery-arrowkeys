!function(a){"use strict";var b="function"==typeof define&&define.amd,c="undefined"!=typeof module&&module.exports;b?define(["jquery"],a):c?module.exports=a(require("jquery")):a(window.jQuery)}(function(a){var b=function(a){this.opts=a};b.prototype={up:function(b){var c=a("."+this.opts.focusedClass);a.isFunction(this.opts.upFunc)&&this.opts.upFunc.call(this,c,b)},down:function(b){var c=a("."+this.opts.focusedClass);a.isFunction(this.opts.downFunc)&&this.opts.downFunc.call(this,c,b)},left:function(){var b=a("."+this.opts.focusableClass);actv=this.opts.focusedClass;for(var c=1;c<b.length;c++)if(b.eq(c).hasClass(actv)){b.eq(c).removeClass(actv),b.eq(c-1).focus().addClass(actv);break}},right:function(){var b=a("."+this.opts.focusableClass);actv=this.opts.focusedClass;for(var c=0;c<b.length-1;c++)if(b.eq(c).hasClass(actv)){b.eq(c).removeClass(actv),b.eq(c+1).focus().addClass(actv);break}}};var c=function(c){this.opts=a.extend({activeFirstElement:!1,customKeyEvent:{},focusableClass:"focusable",focusedClass:"focused"},c),this.keys={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,BACK:8},this.arrow=new b(this.opts),this.__constructor__()};c.prototype={__constructor__:function(){this.opts.activeFirstElement&&this.activeFirstElement()},activeFirstElement:function(){var b=a("."+this.opts.focusableClass),c=this.opts.focusedClass;b.first().focus().addClass(c)},bindCustomKeyEvent:function(b){b=b||window.event;var c=this.opts.customKeyEvent;for(var d in c)d==(b.keyCode||b.which)&&a.isFunction(c[d])&&c[d].call(this,b)},bindBasicKey:function(b){var c=this.keys,d=this.opts.focusedClass,e=a("."+d);b=b||window.event;var f=b.which||b.keyCode;if(0===e.length)for(var g in c)if(f===c[g])return void this.activeFirstElement();switch(f){case c.LEFT:this.arrow.left(b);break;case c.UP:this.arrow.up(b);break;case c.RIGHT:this.arrow.right(b);break;case c.DOWN:this.arrow.down(b);break;case c.ENTER:a.isFunction(this.opts.enterFunc)&&this.opts.enterFunc.call(this,e,b);break;case c.BACK:a.isFunction(this.opts.backFunc)&&this.opts.backFunc.call(this,e,b);break;default:return}b.preventDefault()}},jQuery.fn.arrowkeys=function(b){var d=this||document,e=new c(b),f=b.tabindex||1;return a(d).attr("tabindex",f).unbind("keydown"),a(d).keydown(function(a){e.bindBasicKey(a),e.bindCustomKeyEvent(a)}),jQuery}});